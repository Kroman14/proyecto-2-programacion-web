<!-- Hero Section -->
<section class="hero-section bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    Descubre tu próxima aventura literaria
                </h1>
                <p class="lead mb-4">
                    Miles de libros esperando por ti. Desde clásicos hasta las últimas novedades, 
                    encuentra tu próxima lectura favorita en nuestra librería online.
                </p>
                <div class="d-flex gap-3">
                    <a href="/libros" class="btn btn-light btn-lg">
                        <i class="bi bi-search"></i> Explorar Catálogo
                    </a>
                    <a href="/categorias" class="btn btn-outline-light btn-lg">
                        <i class="bi bi-tags"></i> Ver Categorías
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image">
                    <i class="bi bi-book display-1 text-light opacity-75"></i>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Libros Destacados -->
<section class="py-5">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12 text-center">
                <h2 class="display-6 fw-bold">Libros Destacados</h2>
                <p class="text-muted">Los títulos más populares de nuestra colección</p>
            </div>
        </div>

        {{#if error}}
        <div class="alert alert-warning text-center" role="alert">
            <i class="bi bi-exclamation-triangle"></i> {{error}}
        </div>
        {{/if}}

        {{#if libros.length}}
        <div class="row g-4">
            {{#each libros}}
            <div class="col-md-6 col-lg-4">
                <div class="card h-100 shadow-sm book-card">
                    <div class="card-body d-flex flex-column">
                        <div class="text-center mb-3">
                            {{#if imagen}}
                            <img src="/images/{{imagen}}" 
                                 class="img-fluid rounded book-cover" 
                                 alt="{{titulo}}" 
                                 loading="lazy"
                                 style="max-width: 100%; height: auto;"
                                 onerror="this.onerror=null; this.parentElement.innerHTML='<div class=\'bg-light rounded d-flex align-items-center justify-content-center\'><i class=\'bi bi-book text-muted display-4\'></i><br><small class=\'text-muted\'>Imagen no disponible</small></div>';">
                            {{else}}
                            <div class="bg-light rounded d-flex align-items-center justify-content-center">
                                <i class="bi bi-book text-muted display-4"></i>
                                <br><small class="text-muted">Sin imagen</small>
                            </div>
                            {{/if}}
                        </div>
                        
                        <h5 class="card-title fw-bold">{{titulo}}</h5>
                        
                        {{#if Autor}}
                        <p class="card-text text-muted">
                            <i class="bi bi-person"></i> {{Autor.nombre}}
                        </p>
                        {{/if}}
                        
                        {{#if Categoria}}
                        <span class="badge bg-primary mb-2">{{Categoria.nombre}}</span>
                        {{/if}}
                        
                        <p class="card-text flex-grow-1">
                            {{#if descripcion}}
                                {{truncate descripcion 100}}
                            {{else}}
                                Descripción no disponible
                            {{/if}}
                        </p>
                        
                        <div class="d-flex justify-content-between align-items-center mt-auto">
                            <span class="h5 text-success mb-0">{{formatPrice precio}}</span>
                            <button class="btn btn-primary btn-sm add-to-cart" data-book-id="{{id}}">
                                <i class="bi bi-cart-plus"></i> Agregar
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
        
        <div class="text-center mt-4">
            <a href="/libros" class="btn btn-outline-primary btn-lg">
                Ver Todos los Libros <i class="bi bi-arrow-right"></i>
            </a>
        </div>
        {{else}}
        <div class="text-center py-5">
            <i class="bi bi-book text-muted display-1"></i>
            <h4 class="text-muted mt-3">No hay libros disponibles</h4>
            <p class="text-muted">Intenta más tarde o contacta con soporte.</p>
        </div>
        {{/if}}
    </div>
</section>

<!-- Características -->
<section class="bg-light py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-4 text-center">
                <div class="feature-icon mb-3">
                    <i class="bi bi-truck display-4 text-primary"></i>
                </div>
                <h5>Envío Gratis</h5>
                <p class="text-muted">En pedidos superiores a $50.000</p>
            </div>
            <div class="col-md-4 text-center">
                <div class="feature-icon mb-3">
                    <i class="bi bi-shield-check display-4 text-primary"></i>
                </div>
                <h5>Compra Segura</h5>
                <p class="text-muted">Transacciones 100% seguras</p>
            </div>
            <div class="col-md-4 text-center">
                <div class="feature-icon mb-3">
                    <i class="bi bi-headset display-4 text-primary"></i>
                </div>
                <h5>Soporte 24/7</h5>
                <p class="text-muted">Estamos aquí para ayudarte</p>
            </div>
        </div>
    </div>
</section>

<!-- Newsletter -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h3>¡Mantente al día!</h3>
                <p class="text-muted">Recibe las últimas novedades y ofertas especiales</p>
                <div class="row g-2 justify-content-center">
                    <div class="col-md-8">
                        <div class="input-group">
                            <input type="email" class="form-control" placeholder="Tu correo electrónico">
                            <button class="btn btn-primary" type="button">
                                Suscribirse
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
