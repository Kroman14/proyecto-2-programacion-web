<div class="container mt-5">
  <nav aria-label="breadcrumb" class="mb-4">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/" class="text-decoration-none">Inicio</a></li>
      <li class="breadcrumb-item"><a href="/autores" class="text-decoration-none">Autores</a></li>
      <li class="breadcrumb-item active" aria-current="page">{{autor.nombre}}</li>
    </ol>
  </nav>

  <div class="row g-4">
    <div class="col-md-4">
      <div class="card shadow-sm">
        <img src="{{autor.foto}}" class="card-img-top" alt="{{autor.nombre}}" onerror="this.src='/images/default-book.jpg'">
        <div class="card-body">
          <h3 class="h5 mb-2">{{autor.nombre}}</h3>
          {{#if autor.nacionalidad}}
            <p class="mb-1"><i class="bi bi-flag"></i> {{autor.nacionalidad}}</p>
          {{/if}}
          {{#if autor.fecha_nacimiento}}
            <p class="mb-0"><i class="bi bi-calendar-event"></i> Nació: {{autor.fecha_nacimiento}}</p>
          {{/if}}
        </div>
      </div>
    </div>

    <div class="col-md-8">
      {{#if autor.biografia}}
        <h4 class="mb-3">Biografía</h4>
        <p class="text-secondary">{{autor.biografia}}</p>
      {{/if}}

      <h4 class="mt-4 mb-3">Libros de {{autor.nombre}}</h4>
      {{#if autor.libros.length}}
        <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 g-3">
          {{#each autor.libros}}
            <div class="col">
              <div class="card h-100">
                <img src="{{this.imagen}}" class="card-img-top" alt="{{this.titulo}}" onerror="this.src='/images/default-book.jpg'">
                <div class="card-body d-flex flex-column">
                  <h5 class="card-title">{{this.titulo}}</h5>
                  {{#if this.categoria}}
                    <span class="badge bg-light text-dark border mt-auto">{{this.categoria.nombre}}</span>
                  {{/if}}
                  <a href="/libro/{{this.id}}" class="btn btn-primary w-100 mt-2">Ver detalle</a>
                </div>
              </div>
            </div>
          {{/each}}
        </div>
      {{else}}
        <div class="alert alert-info">Este autor aún no tiene libros activos.</div>
      {{/if}}
    </div>
  </div>
</div>
